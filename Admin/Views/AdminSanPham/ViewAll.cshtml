@model SaleWebsite.Models.sanpham
<table class="tblsize">
    <tr style="border: 1px solid #8B4730; ">
        <th style="width: 20%;">Mã size</th>
        <th style="width: 30%;">Size</th>
        <th style="width: 20%;">Số lượng</th>
        <th style="width: 10%;"></th>
        <th style="width: 10%;"></th>
        <th style="width: 10%;"></th>
    </tr>
    @{
        foreach (var it in Model.sizes)
        {
            <tr style="margin-top: 10px; font-size: 12px;text-align: center;">
                <td style="width: 20%;">@it.masize</td>
                <td style="width: 30%;">@it.size1</td>
                <td style="width: 20%;">@it.soluong</td>
                <td style="width: 10%;">
                    <button class="btnview1" id="@it.masize">
                        <i class="fas fa-eye"></i>
                    </button>
                </td>
                <td style="width: 10%;">
                    <button class="btnedit1">
                        <span hidden id="gtall">@it.getAll()</span>
                        <i class="fas fa-edit"></i>
                    </button>
                </td>
                <td style="width: 10%;">
                    <button class="btndelete1" id="@it.masize">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            </tr>
        }
    }
</table>

<script>
    $('.btnview1').on('click', function () {
        var masize = parseInt($(this).closest('.btnview1').prop('id'));
        $.ajax({
            type: 'POST',
            contentType: 'application/json;charset=utf-8',
            url: 'AdminSanPham/ViewColor',
            data: "{'masize':'" + masize + "'}",
            success: function (data) {
                $('.divcolor').html(data);
            },
            error: function (data) {
                alert(data);
            }
        })
    })
    $('.btndelete1').on('click', function () {
        var masp = parseInt($(this).closest('.btndelete1').prop('id'));
        var row = $(this).closest('tr');
        $.ajax({
            type: 'POST',
            contentType: 'application/json;charset=utf-8',
            url: 'AdminSanPham/DeleteSize',
            data: "{'masize':'" + masp + "'}",
            success: function (data) {
                row.remove();
            },
            error: function (data) {
                alert(data);
            }
        })
    })
    $('.btnedit1').on('click', function () {
        $('.diveditsize').addClass('addani');
        $('.blblack').addClass('addani2');
        var size = ($(this).text()).split("-");
        $('#editidsize').val(parseInt(size[0]));
        $('#editsize').val(size[1]);
        $('#editquantity').val(size[2]);
        $('#editmasp').val(size[3]);
    })

</script>
